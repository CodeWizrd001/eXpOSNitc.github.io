<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Test Program 8</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="../img/favicon.jpg" />
</head>

<body>
    <pre>
decl
    int temp, data, pid, count, delay;
    int delayFunc(int delay);
enddecl

int delayFunc(int delay)
{
decl
    int num;
enddecl

begin
    num = 0;
    while(num < delay) do
        num = num + 1;
    endwhile;

    return 0;
end
}

int main()
{
begin
    read(delay);

    pid = exposcall("Fork");
    pid = exposcall("Fork");
    pid = exposcall("Fork");
    pid = exposcall("Fork");

    if(pid < 0) then
        write("No PCB");
    endif;

    pid = exposcall("Getpid");
    count = 0;

    while(count < 8) do
        data = pid*100 + count;
        write(data);
        temp = delayFunc(delay);

        count = count + 1;
    endwhile;

    return 0;
end
}</pre>
</body>

</html>