<!DOCTYPE html>
<html lang="en">
  <head>

    <!-- Basic Page Needs
    ================================================== -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <title>Machine Organisation</title>

    <!-- Mobile Specific Metas
    ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/png" href="../img/favicon.jpg"/>

    <!-- CSS
    ================================================== -->       
    <!-- Bootstrap css file-->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <!-- Font awesome css file-->
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <!-- Superslide css file-->
    <link rel="stylesheet" href="../css/superslides.css">
    <!-- Slick slider css file -->
    <link href="../css/slick.css" rel="stylesheet"> 
    <!-- smooth animate css file -->
    <link rel="stylesheet" href="../css/animate.css">  
    <!-- Elastic grid css file -->
    <link rel="stylesheet" href="../css/elastic_grid.css"> 
    <!-- Circle counter cdn css file -->
    <link rel='stylesheet prefetch' href='../css/jquery.circliful.css'>    
    <!-- Default Theme css file -->
    <link id="orginal" href="../css/themes/eucalyptus-theme.css" rel="stylesheet">
    <!-- Main structure css file -->
    <link href="../style.css" rel="stylesheet">
   
    <!-- Google fonts -->
    <link href='../css/opensans.css' rel='stylesheet' type='text/css'>
    <link href='../css/varela.css' rel='stylesheet' type='text/css'>
    <link href='../css/montserrat.css' rel='stylesheet' type='text/css'>

  </head>
  <body> 
     <!-- BEGAIN PRELOADER -->
    <div id="preloader">
      <div id="status">&nbsp;</div>
    </div>
    <!-- END PRELOADER -->

  
    <!--=========== BEGIN HEADER SECTION ================-->
    <header id="header">
      <!-- BEGIN MENU -->
      <div class="menu_area">
        <nav class="navbar navbar-default navbar-fixed-top past-main" role="navigation"> 
          <div class="container">
          <div class="navbar-header">
            <!-- FOR MOBILE VIEW COLLAPSED BUTTON -->
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            <!-- LOGO -->

            <!-- TEXT BASED LOGO -->
            <a class="navbar-brand" href="index.html">eXpOS<span>NITC</span></a>
            
            
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul id="top-menu" class="nav navbar-nav navbar-right main_nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../Roadmap.html" target="_blank">Roadmap</a></li>
              <li><a href="../Documentation.html" target="_blank">Documentation</a></li> 
               <li><a href="../Downloads.html" target="_blank">Downloads</a></li> <!--Change here--> 
               <li><a href="../faq.html" target="_blank">FAQ</a></li>
              <li><a href="../About_us.html" target="_blank">About Us</a></li>                                     
            </ul>           
          </div>
          </div>     
        </nav>  
      </div>
      <!-- END MENU -->

      
    </header>
		<!--=========== End HEADER SECTION ================--> 
		
		  
    <!--=========== BEGIN SECTION 3================-->
	
    <section id="expfs">
		<br>
		<br>
		<br>
      <div class="container">
        <div class="row">
          <div class="col-lg-12 col-md-12">
            <div class="about_area">
             
                <!-- START ABOUT HEADING -->
              <div class="heading">
                <h2 >Machine Organisation</h2>
                <br/>
                <br/>
                <!--p> The following is a detailed architecture diagram of XSM.</p-->
		<center><img src="../img/architecture/machine_organisation_new.png" width="90%"></center>
              </div>
		        <!--center><img src="../img/hw_model.jpg"></center-->


              <!-- START ABOUT CONTENT -->
              <div class="about_content">
                <div class="row">
                   <div class="about_featured">
                      <div class="panel-group" >
                        <!-- START SINGLE FEATURED ITEM #1-->
                        <div class="panel panel-default ">
                          <div class="panel-heading">
                            <h4 class="panel-title">
                              <a data-toggle="collapse"  href="#ThreecollapseOne">
                                 <span class="fa fa-check-square-o"></span>Processor
                              </a>
                            </h4>
                          </div>
                          <div id="ThreecollapseOne" class="panel-collapse collapse">
                            <div class="panel-body">

<div id="content">

<p>The processor consists of a set of <b>registers</b> and <b>ports</b> along with the hardware for performing control and arithmetic/logic operations, paging etc. Each register/port can store a string.</p>  

<p>The machine is equipped with an <b>instruction set</b>.  Two contiguous memory words are necessary to store each XSM instruction. The reader is assumed to have a basic understanding of the general principles of computer organization, hardware and software interrupts, exceptions, and hardware paging to follow the processor description in this document.</p>  

<p>The processor has two fundamental modes of operation - <b>privileged execution mode</b> and the <b>unprivileged execution mode</b>.   A program executing in the privileged mode can execute any XSM instruction and has the full view of the memory and the disk.  A program executing in the unprivileged mode has access only to a restricted machine model called the <b>XSM virtual machine</b>.  The instruction set and the memory model available to a program executing in unprivileged mode is a subset of that in the privileged mode. These are called the virtual machine instruction set and the virtual machine memory model respectively. ( See <a href="../virtual_machine_spec.html" target="_blank">Virtual Machine Specification</a> for more).  XSM implements the virtual machine model using its <a href="paging_hardware.html" target="_blank"><b>paging hardware</b></a>.</p>

                            </div>
                          </div>
                        </div>

                        <!-- START SINGLE FEATURED ITEM #3 -->
                        <div class="panel panel-default ">
                          <div class="panel-heading">
                            <h4 class="panel-title">
                              <a data-toggle="collapse"  href="#ThreecollapseThree">
                                <span class="fa fa-check-square-o"></span>XSM Machine Registers/Ports
                              </a>
                            </h4>
                          </div>
                          <div id="ThreecollapseThree" class="panel-collapse collapse">
                            <div class="panel-body">

<p>The XSM architecture maintains 29 registers, each capable of storing a word.  Only a few of them are accessible in unprivileged mode.  Several registers are special purpose registers reserved for specific purposes. The machine also contains 4 ports, of which one port is used for Standard Input and another one is used for Standard Output. The remaining ports are unused in the present version of XSM.</p>   

<p>The  following table gives an overview of XSM registers/ports according to their category.</p>

                                <table class="table table-bordered" style="text-align: center;">
                                    <tr class="success">
                                        <th style="text-align: center;">Registers</th>
                                        <th style="text-align: center;">Purpose</th>
                                        <th style="text-align: center;">Access Mode</th>
                                    </tr>


  <tr>
    <td>R0-R19</td>
    <td>General Purpose User Registers<br/>
        <span style="font-size:13px"><b>R16-R19 are reserved for the use of SPL compiler</b></span> 
    </td>	
    <td>Unprivileged</td>
  </tr>
  <tr>
    <td>BP, SP, IP</td>
    <td>Base, Stack and Instruction Pointers</td>	
    <td>Unprivileged</td>
  </tr>
  <tr>
    <td>PTBR, PTLR</td>
    <td>Page Table (Base, Length) Registers</td>	
    <td>Privileged</td>
  </tr>
  <tr>
    <td>EIP, EC, EPN, EMA</td>
    <td>Exception Status Registers</td>	
    <td>Privileged</td>
  </tr>
  <tr>
    <td>P0-P3<br/><b>(Ports)</b></td>
    <td>P0-Input port, P1-Output port<br/>P2,P3-Unused</td>	
    <td>Privileged</td>
  </tr>
</table>


                            </div>
                          </div>
                        </div>
                        
                        <!-- START SINGLE FEATURED ITEM #2 -->
                        <div class="panel panel-default ">
                          <div class="panel-heading">
                            <h4 class="panel-title">
                              <a data-toggle="collapse"  href="#ThreecollapseTwo">
                                 <span class="fa fa-check-square-o"></span>Memory
                              </a>
                            </h4>
                          </div>
                          <div id="ThreecollapseTwo" class="panel-collapse collapse">
                            <div class="panel-body">
                           <p>
Memory refers to the physical memory of the machine and is a volatile storage. The memory is organized as a sequence of <b>pages</b>.  Each page is a sequence of 512 words.  The total number of memory pages available is 128. Thus there are in total 512 x 128 = 65536 words of storage. The memory is word addressable. The machine contains data transfer instructions that allow a word to be transferred from memory to a register/port and back.</p>    

<p>When the machine is executing in privileged mode, a memory address “N” between 0 and  65535 refers to the word with offset (N mod 512) in  page number (N div 512).  </p>

<p><code>Note</code> :  Since the memory model is different when the machine operates in  unprivileged mode, the total amount of memory and the interpretation of addresses are different and will be discussed in the <a href="../virtual_machine_spec.html" target="_blank">Virtual Machine Specification</a>.</p>

<p>The  Memory of the XSM Machine is organised as follows :</p>

                                <table class="table table-bordered" style="text-align: center;">
                                    <tr>
                                        <th style="text-align: center;">Page Number</th>
                                        <th style="text-align: center;">Contents</th>
                                        <th style="text-align: center;">Word Address</th>
					<th style="text-align: center;">Number of Words</th>	
                                    </tr>
  <tr>
    <td>0</td>
    <td>ROM Code</td>	
    <td>0 - 511</td>
    <td>512</td>
  </tr>
  <tr>			
    <td>1</td>
    <td>Page for loading the BOOT block</td>	
    <td>512 - 1023</td>
    <td>512</td>
  </tr>
  <tr>			
    <td>2 - 3</td>
    <td>Exception handler   (INT  0)</td>	
    <td>1024 - 2047</td>
    <td>1024</td>
  </tr>
  <tr>			
    <td>4 - 5</td>
    <td>Timer Interrupt (INT  1)</td>	
    <td>2048 - 3071</td>
    <td>1024</td>
  </tr>
  <tr>		
    <td>6 - 7</td>
    <td>Disk Interrupt (INT  2)</td>	
    <td>3072 – 4095</td>
    <td>1024</td>
  </tr>
  <tr>			
    <td>8 - 9</td>
    <td>Console Interrupt (INT  3)</td>	
    <td>4096 – 5119</td>
    <td>1024</td>
  </tr>
  <tr>			
    <td>10 - 11</td>
    <td>INT  4</td>	
    <td>5120 - 6143</td>
    <td>1024</td>
  </tr>
  <tr>			
    <td>12  - 13</td>
    <td>INT 5</td>	
    <td>6144 - 7167</td>
    <td>1024</td>
  </tr>
  <tr>						
    <td>14  - 15</td>
    <td>INT 6</td>	
    <td>7168 - 8191</td>
    <td>1024</td>
  </tr>
  <tr>					
    <td>16  - 17</td>
    <td>INT 7</td>	
    <td>8192 - 9215</td>
    <td>1024</td>
  </tr>
  <tr>					
    <td>18 - 19</td>
    <td>INT 8</td>	
    <td>9216 - 10239</td>
    <td>1024</td>
  </tr>
  <tr>							
    <td>20 - 21</td>
    <td>INT 9</td>	
    <td>10240 - 11263</td>
    <td>1024</td>
  </tr>
  <tr>							
    <td>22 - 23</td>
    <td>INT 10</td>	
    <td>11264 - 12287</td>
    <td>1024</td>
  </tr>
  <tr>							
    <td>24  - 25</td>
    <td>INT 11</td>	
    <td>12288 - 13311</td>
    <td>1024</td>
  </tr>
  <tr>							
    <td>26 - 27</td>
    <td>INT 12</td>	
    <td>13312 - 14335</td>
    <td>1024</td>
  </tr>
  <tr>									
    <td>28 - 29</td>
    <td>INT 13</td>	
    <td>14336 - 15359</td>
    <td>1024</td>
  </tr>
  <tr>									
    <td>30 - 31</td>
    <td>INT 14</td>	
    <td>15360 - 16383</td>
    <td>1024</td>
  </tr>
  <tr>									
    <td>32 - 33</td>
    <td>INT 15</td>	
    <td>16384 - 17407</td>
    <td>1024</td>
  </tr>
  <tr>									
    <td>34 - 35</td>
    <td>INT 16</td>	
    <td>17408 - 18431</td>
    <td>1024</td>
  </tr>
  <tr>											
    <td>36 - 37</td>
    <td>INT 17</td>	
    <td>18432 - 19455</td>
    <td>1024</td>
  </tr>
  <tr>											
    <td>38 - 39</td>
    <td>INT 18</td>	
    <td>19456 - 20479</td>
    <td>1024</td>
  </tr>
  <tr>											
    <td>40 - 127</td>
    <td>Unreserved Pages</td>	
    <td>20480  - 65535</td>
    <td>45056</td>
  </tr>
  
</table>
<p><code>Note: </code>The last 19 words of page 0 are reserved for an <b>interrupt vector table</b> with 19 entries.  
The k<sup>th</sup> entry contains the page number where the handler for the k<sup>th</sup> interrupt service
routine begins.  Upon encountering the INT <i>k</i> instruction during machine execution, 
the machine transfers control to the beginning of the page indicated in the corresponding
vector table entry.  </p>

<p>The version of the XSM machine described here assumes that the vector table entries are 
hard coded in the ROM code according to the above table.  </p>


                            </div>
                          </div>
                        </div>

<div id="disk">
                        <!-- START SINGLE FEATURED ITEM #3 -->
                        <div class="panel panel-default ">
                          <div class="panel-heading">
                            <h4 class="panel-title">
                              <a data-toggle="collapse"  href="#ThreecollapseFour">
                                <span class="fa fa-check-square-o"></span>Disk
                              </a>
                            </h4>
                          </div>
                          <div id="ThreecollapseFour" class="panel-collapse collapse">
                            <div class="panel-body">
<p>
The disk is organized as a sequence of  512 <b>blocks</b>. Each block is a sequence of 512 <b>words</b>.  Thus there are a total of 512x512=262144 words of secondary storage.</p>  
<p>
The disk is block accessible and not word accessible. This means that a word within a block can be accessed individually only after transferring the block into memory and then accessing the corresponding word from the memory.</p>  

<p>A block index between 0 and 511 refers to the corresponding disk block.</p>

<p>The block 0 of the disk is reserved for <i>boot block</i> and will be loaded into the memory at the time of system startup.</p>

                                <p>The machine instruction set includes four special <b>disk access macro routines</b> (load, loada, store and storea - <a href="instruction_set.html#privileged_instruction" target="_blank" > see instruction set </a>) for disk-block to memory-page data transfer and back.  These are actually macros whose internal details are hidden from programs.    These macros are accessible only when the machine is executing in privileged mode.   XSM gives no provision for programs to access the disk directly while executing in unprivileged mode.</p>  
<p>
<code>Note</code>:  The fact that both page-size and block-size are the same makes disk to memory transfer easy in XSM.  In real machines, this is normally not the case and the disk access routines have to do the necessary size mappings.  
</p>

                            </div>
                          </div>
                        </div>
               </div>         
                        <!-- START SINGLE FEATURED ITEM #4 -->
                        <div class="panel panel-default ">
                          <div class="panel-heading">
                            <h4 class="panel-title">
                              <a data-toggle="collapse"  href="#Threecollapse4">
                                <span class="fa fa-check-square-o"></span>Timer
                              </a>
                            </h4>
                          </div>
                          <div id="Threecollapse4" class="panel-collapse collapse">
                            <div class="panel-body">
                                <p>Timer is a device that can be set to interrupt the processor each time after the machine executes XSM_TICKS instructions in <b>unprivileged mode</b> (If the XSM_TICKS numbered instruction changes mode from unprivileged to privileged, then the interrupt occurs before executing the next instruction after the machine is back to unprivileged mode).  The value of XSM_TICKS must be set externally.  (XSM specification leaves how XSM_TICKS is initialized to the implementation.) Upon receipt of the interrupt, the machine switches to the privileged mode and  executes the <a href="interrupts_exception_handling.html#timer_interrupt" target="_blank" >timer interrupt service routine</a>.</p>
                            </div>
                          </div>
                        </div>
                        
                        <!-- START SINGLE FEATURED ITEM #5 -->
                        <div class="panel panel-default ">
                          <div class="panel-heading">
                            <h4 class="panel-title">
                              <a data-toggle="collapse"  href="#Threecollapse5">
                                <span class="fa fa-check-square-o"></span>Disk Controller
                              </a>
                            </h4>
                          </div>
                          <div id="Threecollapse5" class="panel-collapse collapse">
                            <div class="panel-body">
                                <p>Disk Controller is the device that controls the data transfer between the memory and the disk.  If the <b>load</b> macro or <b>store</b> macro is used for disk-memory transfer, then upon subsequent completion of XSM_DTIME instructions in the unprivileged mode,  the disk controller interrupts the machine.  (If the XSM_DTIME numbered instruction changes mode from unprivileged to privileged, then the interrupt occurs before executing the next instruction after the machine is back to unprivileged mode).  Upon receipt of the interrupt, the machine executes <a href="interrupts_exception_handling.html" target="_blank" >disk interrupt service routine</a>. If the <b>loadi</b> macro is used for disk-memory transfer, the machine will continue execution of the next instruction only after the block transfer is complete.    
</p>
                            </div>
                          </div>
                        </div>
                        
                        <!-- START SINGLE FEATURED ITEM #6 -->
                        <div class="panel panel-default ">
                          <div class="panel-heading">
                            <h4 class="panel-title">
                              <a data-toggle="collapse"  href="#Threecollapse6">
                                <span class="fa fa-check-square-o"></span>Console/Terminal
                              </a>
                            </h4>
                          </div>
                          <div id="Threecollapse6" class="panel-collapse collapse">
                            <div class="panel-body">
                                <p>The console device is a single device that handles the standard input and output. </p>
                                <p>The <b>OUT</b> instruction displays the contents of port P1 onto the terminal <a href="instruction_set.html#privileged_instruction" target="_blank" >(see instruction set)</a>.</p>
<p>If the XSM machine executes an <b>IN</b> instruction, the console device waits for the user to enter a word
into the console.  When a word is entered, the console device transfers the word to the port P0 and raises the console  interrupt <a href="interrupts_exception_handling.html" target="_blank" >(see console interrupt handling)</a>. The console device ignores any further input entered by the user before the execution of another IN/INI instruction. While the console waits for the user input, the XSM machine proceeds the execution of the next instruction.</p>
                                <p>If the XSM machine executes the <b>INI</b> instruction, the console device as well as the XSM machine waits for the user input and the data entered is immediately transferred to the port P0, only after which the next instruction is executed. No interrupt is generated by the INI instruction.</p>
<p>The contents of port P0 may be transfered to other registers/memory using the MOV
instruction inside the console interrupt routine.  Note that P0 may not contain any valid data if its contents
are read before the interrupt is raised in case of the IN instruction.  
</p>
                            </div>
                          </div>
                        </div>
                        
                        <!-- START SINGLE FEATURED ITEM #7 -->
                        <div class="panel panel-default ">
                          <div class="panel-heading">
                            <h4 class="panel-title">
                              <a data-toggle="collapse"  href="#Threecollapse7">
                                <span class="fa fa-check-square-o"></span>Boot ROM and Boot block
                              </a>
                            </h4>
                          </div>
                          <div id="Threecollapse7" class="panel-collapse collapse">
                            <div class="panel-body">
                             <p>
When XSM machine starts up, program execution starts at the first word of the first page (Page 0) of memory.  There is a pre-loaded ROM code in Page 0 called the <b>bootstrap loader</b>.  This code loads the 1<sup>st</sup> disk block (block 0) called the <b>boot block</b> from the disk to page 1 of memory and then transfers control (using the jump instruction) to the 1<sup>st</sup> instruction in page 1.  This mechanism allows programmers to write their code and store it in the boot block so that when the machine starts up, control is transferred to this code. 
                                 <br/><code>Note</code> : Boot ROM code contains just 2 instructions (to load the Boot Block to page 1 and then jump to page 1 which now contains Boot Block). So, after the execution of Boot ROM, control is transferred to 1<sup>st</sup> instruction in page 1.
</p>
                            </div>
                          </div>
                        </div>
                        
</div>


                      </div>
                    </div>
               
                  
                </div>
              </div>
            </div>
          </div> 
        </div>       
      </div>
       	
		 <a href="../arch_spec.html"><img src="../img/spec_icon.jpg"  style="float:right;margin-right: 80px;"/></a>
    </section>
    <!--=========== END ABOUT SECTION 3================-->
    
 		   
      <!--=========== BEGIN FOOTER ================-->
     <footer id="footer">
       <div class="container">
         <div class="row">
           <div class="col-lg-6 col-md-6 col-sm-6">
             <div class="footer_left">
               <p><a href="http://www.nitc.ac.in/">National Institute of Technology, Calicut</a></p>
             </div>
           </div>
         </div>
       </div>
      </footer>
      <!--=========== END FOOTER ================-->

     <!-- Javascript Files
     ================================================== -->
  
     <!-- initialize jQuery Library -->
    <script src="../js/jquery.min.js"></script>
    <!-- Google map -->
    <script src="../js/map_js.js"></script>
    <script src="../js/jquery.ui.map.js"></script>
     <!-- For smooth animatin  -->
    <script src="../js/wow.min.js"></script> 
    <!-- Bootstrap js -->
    <script src="../js/bootstrap.min.js"></script>
    <!-- superslides slider -->
    <script src="../js/jquery.superslides.min.js" type="text/javascript"></script>
    <!-- slick slider -->
    <script src="../js/slick.min.js"></script>    
    <!-- for circle counter -->
    <script src='../js/jquery.circliful.min.js'></script>
    <!-- for portfolio filter gallery -->
    <script src="../js/modernizr.custom.js"></script>
    <script src="../js/classie.js"></script>
    <script src="../js/elastic_grid.min.js"></script>
    <script src="../js/portfolio_slider.js"></script>

    <!-- Custom js-->
    <script src="../js/custom.js"></script>
  </body>
</html>
