<!--This document consists of header and footer only -->

<!DOCTYPE html>
<html lang="en">
  <head>

    <!-- Basic Page Needs
    ================================================== -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <title>File System Algorithms</title>

 <!-- Mobile Specific Metas
    ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/png" href="../img/favicon.jpg"/>

    <!-- CSS
    ================================================== -->       
    <!-- Bootstrap css file-->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <!-- Font awesome css file-->
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <!-- Superslide css file-->
    <link rel="stylesheet" href="../css/superslides.css">
    <!-- Slick slider css file -->
    <link href="../css/slick.css" rel="stylesheet"> 
    <!-- smooth animate css file -->
    <link rel="stylesheet" href="../css/animate.css">  
    <!-- Elastic grid css file -->
    <link rel="stylesheet" href="../css/elastic_grid.css"> 
    <!-- Circle counter cdn css file -->
    <link rel='stylesheet prefetch' href='https://cdn.rawgit.com/pguso/jquery-plugin-circliful/master/css/jquery.circliful.css'>    
    <!-- Default Theme css file -->
    <link id="orginal" href="../css/themes/eucalyptus-theme.css" rel="stylesheet">
    <!-- Main structure css file -->
    <link href="../style.css" rel="stylesheet">
   
    <!-- Google fonts -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Varela' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body> 
     <!-- BEGAIN PRELOADER -->
    <div id="preloader">
      <div id="status">&nbsp;</div>
    </div>
    <!-- END PRELOADER -->

  
    <!--=========== BEGIN HEADER SECTION ================-->
    <header id="header">
      <!-- BEGIN MENU -->
      <div class="menu_area">
        <nav class="navbar navbar-default navbar-fixed-top past-main" role="navigation"> 
          <div class="container">
          <div class="navbar-header">
            <!-- FOR MOBILE VIEW COLLAPSED BUTTON -->
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            <!-- LOGO -->

            <!-- TEXT BASED LOGO -->
            <a class="navbar-brand" href="../index.html">eXpOS<span>NITC</span></a>
            
                              
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul id="top-menu" class="nav navbar-nav navbar-right main_nav">
              <li class="../index.html"><a href="#">Home</a></li>
              <li><a href="../Roadmap.html">Roadmap</a></li>
              <li><a href="../Documentation.html">Documentation</a></li> 
               <li><a href="#pricing">Downloads</a></li> <!--Change here--> 
               <li><a href="../FAQ.html">FAQ</a></li>
              <li><a href="#team">About Us</a></li>                                     
            </ul>           
          </div>
          </div>     
        </nav>  
      </div>
      <!-- END MENU -->

      
    </header>
    <!--=========== End HEADER SECTION ================--> 

	 <!--=========== BEGIN Read================-->
	<section id="seek">
		   <br><br><br>

      <div class="container">
        <div class="row">
         <div class="heading">
              <h2 class="wow fadeInLeftBig">Read System Call</h2>
               <br>
               <br>                                      
            <p>Arguments: fileDescriptor(Integer) , wordRead (Integer)</p>
            <p>Return Value:</p>
            <table class="table table-bordered">
            <tr>
            <td>0</td>
                                                        <td>Success</td>
                                                    </tr> 
                                                   
                                                </table>
                                                <p>Description: The Read operation takes as input the Filename of the file to be opened. It checks for the validity of the file type, creates an entry for the file in the Per Process Resource Table of the process and also in the File Table.It returns from the system call with the perprocessindex of the file.</p>   
             <div><h4>Algorithm:</h4></div>
             <p>If fileDescriptor is not valid</p>
             <p style=" text-indent: 5em;">then Return -1</p>
             
			<p><a data-toggle="collapse" data-parent="#accordion" href="#collapse1">Find the Process Table of the current process</p>
<div id="collapse1" class="panel-collapse collapse">
<p>1.Find the PID of current process and store it in <i>CurrentPID</i></p>
<p>2.Using <i>CurrentPID</i> find the location of its Per-Process Resource Table</p>
</div>
<p>if entry in Per Process Resource Table corresponding to fileDescriptor is invalid(indicated by -1)</p>
<p style=" text-indent: 5em;">then Return -1</p>
<p>Store the File Table Index corresponding to that entry in <i>FTIndex</i> and lseek position in <i>lseekpos</i></p>
<p><a data-toggle="collapse" data-parent="#accordion" href="#collapse0">Lock the file in the File Table</a></p>
<div id="collapse0" class="panel-collapse collapse">
<p>In the entry corresponding to <i>FTIndex</i></p>
<p>if the Locking PID -1 </p>
<p style=" text-indent: 5em;">Set Locking PID to <i>CurrentPID</i> and store the Inode Index of the entry in <i>InodeIndex</i></p>
<p>else</p>
<p style=" text-indent: 5em;">if locking PID is <i>CurrentPID</i> </p>
<p style=" text-indent: 8em;">Go to next Step</p>
<p style=" text-indent: 5em;">else</p>
<p style=" text-indent: 8em;">1.Change the state of the process to (WAIT_FILE, FTIndex)</p>
<p style=" text-indent: 8em;">2.Call the scheduler</p>

</div>
<p><a data-toggle="collapse" data-parent="#accordion" href="#collapse2">File pointer validation</a></p>
<div id="collapse2" class="panel-collapse collapse">
<p>1. Using <i>InodeIndex</i> index into Inode Table entry</p>
<p>2. Fetch the file size of the file from the Inode Table and store it in <i>FileSize</i></p>
<p>if Lseekpos is same as filesize</p>
<p style=" text-indent: 5em;">then Return -1&nbsp;&nbsp;/*End of file reached*/</p>
<p>else</p>
<p style=" text-indent: 5em;"> Store the values Lseek / XFS_MAXBSIZE in <i>BlockNum</i> and Lseek % XFS_MAXBSIZE in <i>Offset</i>.&nbsp;&nbsp;/* The <i>BlockNum</i> gives the index of the block to be read and <i>Offset</i> gives the position to be read from.*/</p>

	
</div>
<p>Store the value <i>BlockNum</i> % MAXBUFSIZE in <i>BufNum</i>./*<i>BufNum</i> gives the index of the buffer to which the block is mapped.*/</p>
<p>if Locking PID field corresponding to <i>BufNum</i> is not -1</p>  
<p style=" text-indent: 5em;">if Locking PID is equal to CurrentPID</p>
<p style=" text-indent: 8em;">if Block Number field is same as <i>BlockNum.</i>
<p style=" text-indent: 11em;">then go to step 5.</p>
<p style=" text-indent: 8em;">else</p>
<p style=" text-indent: 11em;">then go to Step 4.3</p>
<p style=" text-indent: 5em;">else</p>
<p style=" text-indent: 8em;">Change the state of the process to (WAIT_BUFFER, BufNum)</p>
<p style=" text-indent: 8em;">Call the scheduler</p>
<p style=" text-indent: 8em;">Repeat this step until the buffer is found to be unlocked. Once the file is found to be unlocked, go to 4.2.</p>
<p>else</p>
<p style=" text-indent: 5em;"> Change the field to CurrentPID</p><p style=" text-indent: 5em;"> if Block Number is equal to BlockNum</p>
<p style=" text-indent: 8em;">then go to Step 5</p>
<p style=" text-indent: 5em;">else</p>
<p style=" text-indent: 8em;">If the dirty bit is set</p>
 <p style=" text-indent: 8em;">1. Store the block in the buffer to the disk</p>
<p style=" text-indent: 8em;"><a data-toggle="collapse" data-parent="#accordion" href="#collapse3">2. Load the required data block into buffer</a></p>
<div id="collapse3" class="panel-collapse collapse">
<p style=" text-indent: 8em;"><a data-toggle="collapse" data-parent="#accordion" href="#collapse4">Synchronous Load</a></p>
  <div id="collapse4" class="panel-collapse collapse">
<p style=" text-indent: 8em;">Use Load/Store directly</p></div>
<p style=" text-indent: 8em;"><a data-toggle="collapse" data-parent="#accordion" href="#collapse5">Asynchronous Load</a></p>
<div id="collapse5" class="panel-collapse collapse">
<p style=" text-indent: 8em;">if the device/disk is busy</p>
 <p style=" text-indent: 11em;">then change the state of the process to (WAIT_DISK, __ )</p>
<p style=" text-indent: 11em;">call the scheduler</p>
<p style=" text-indent: 11em;">Repeat the above until the device is found to be not busy</p>
<p style=" text-indent: 8em;">else</p>
<p style=" text-indent: 11em;"><a href="load_store.html" target="_blank">Load the block</a></p>
</div>
</div>
<p><i>Lseek</i> modulo XFS_MAXBSIZE will give the offset in the block, from which the word is to be read</p>
<p>Increment LSEEK Position by 1 in the Per-Process Resource Table entry</p>
<p>;"><a data-toggle="collapse" data-parent="#accordion" href="#collapse6">Unlock the file and wake up all processes waiting for file</a></p>
<div id="collapse6" class="panel-collapse collapse">
<p>1. Scan through the Process Table</p>
<p>2. Check for those processes who state is (WAIT_FILE, FTIndex)</p>
<p>Change the state of those process to (READY, __)</p>
</div>
<p>Return with 0, indicating success and word read from file</p>
 







                      
         </div>
		</div>
		</div>
	</section>
 <!--=========== BEGIN FOOTER ================-->
     <footer id="footer">
       <div class="container">
         <div class="row">
           <div class="col-lg-6 col-md-6 col-sm-6">
             <div class="footer_left">
               <p><a href="http://www.nitc.ac.in/">National Institute of Technology, Calicut</a></p>
             </div>
           </div>
         </div>
       </div>
      </footer>
      <!--=========== END FOOTER ================-->

     <!-- Javascript Files
     ================================================== -->
  
     <!-- initialize jQuery Library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Google map -->
    <script src="https://maps.googleapis.com/maps/api/js"></script>
    <script src="../js/jquery.ui.map.js"></script>
     <!-- For smooth animatin  -->
    <script src="../js/wow.min.js"></script> 
    <!-- Bootstrap js -->
    <script src="../js/bootstrap.min.js"></script>
    <!-- superslides slider -->
    <script src="../js/jquery.superslides.min.js" type="text/javascript"></script>
    <!-- slick slider -->
    <script src="../js/slick.min.js"></script>    
    <!-- for circle counter -->
    <script src='https://cdn.rawgit.com/pguso/jquery-plugin-circliful/master/js/jquery.circliful.min.js'></script>
    <!-- for portfolio filter gallery -->
    <script src="../js/modernizr.custom.js"></script>
    <script src="../js/classie.js"></script>
    <script src="../js/elastic_grid.min.js"></script>
    <script src="../js/portfolio_slider.js"></script>

    <!-- Custom js-->
    <script src="../js/custom.js"></script>
  </body>
</html>






